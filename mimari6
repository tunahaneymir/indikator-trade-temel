AI TRADING SYSTEM ARCHITECTURE â€” v2.6 (Visual Edition)
ðŸŽ¯ AmaÃ§
15m ve 1h zaman dilimlerinde Ã§alÄ±ÅŸan, coin bazlÄ± optimizasyon yapan, RL destekli,
SuperTrend + MOST RSI + Volume Spike kombinasyonu ile iÅŸlem aÃ§an,
ve her iÅŸlemin gÃ¶rsel Ã§Ä±ktÄ±sÄ±nÄ± (TP/SL alanlÄ± mum grafiÄŸi) kaydeden tam entegre akÄ±llÄ± sistem.
ðŸ§© MimarÃ® Katmanlar
1ï¸âƒ£ DATA LAYER
Kaynak: Binance Testnet (gerÃ§ek zamanlÄ± veri)
Zaman dilimleri: 15m ve 1h
Kapsam: Top 20 coin
Depolama: 90 gÃ¼nlÃ¼k cache, SQLite trade veritabanÄ±
Mod: execution_mode = 'paper'
2ï¸âƒ£ CORE ENGINE LAYER
core_modules = {
  "signal_generator": "SuperTrend + MOST RSI + Volume Spike",
  "signal_interpreter": "3-lÃ¼ onay sistemi (trend, momentum, hacim)",
  "position_state_manager": "LONG/SHORT/FLAT state machine (reversal destekli)",
  "trend_confirmation_filter": "False signal filtreleme",
  "rl_agent": "PPO policy-gradient learner",
  "risk_manager": "Dynamic ATR SL, DD, cooldown kontrolÃ¼"
}
3ï¸âƒ£ ADAPTIVE LAYER
GÃ¶rev:
Coin bazlÄ± Ã¶ÄŸrenme ve indikatÃ¶r parametre optimizasyonu (Bayesian + RL hibrit)
BileÅŸenler:
adaptive_parameter_optimizer â†’ ATR, MOST, Volume parametre aralÄ±klarÄ±nÄ± Ã¶ÄŸrenir
retrain_scheduler â†’ her 3 iÅŸlemde â€œquick retrainâ€, 20 iÅŸlemde â€œdeep retrainâ€
adaptive_filter_manager â†’ trend & RSI sinyallerinde overfit riskini Ã¶lÃ§er
4ï¸âƒ£ VISUALIZATION LAYER (Yeni!)
ArtÄ±k sadece performans raporu deÄŸil, grafiksel iÅŸlem Ã§Ä±ktÄ±sÄ± da Ã¼retiyor.
visualization = {
  "dashboard": "Real-time performance metrics",
  "trade_visualizer": "PNG output with TP/SL shading",
  "trade_reports": "Weekly HTML visual report",
  "auto_cleanup": "Keep top 20 visuals, weekly rotation"
}
ðŸŽ¨ Trade Visualizer (Yeni Alt ModÃ¼l)
ðŸ“ visualization/trade_visualizer.py
Fonksiyon:
Her kapatÄ±lan iÅŸlemi mum grafiÄŸi Ã¼zerinde iÅŸaretleyip kaydeder.
GÃ¶rselde:
SarÄ± Ã§izgi â†’ giriÅŸ fiyatÄ±
Mavi alan â†’ hedef (take-profit)
Gri alan â†’ stop-loss
YeÅŸil ok â†’ entry noktasÄ±
KÄ±rmÄ±zÄ± ok â†’ exit noktasÄ±
BaÅŸlÄ±k â†’ coin adÄ± + iÅŸlem sonucu + PnL yÃ¼zdesi
OluÅŸan dosyalar:
/visuals/trades/BTCUSDT_20251029_1530.png
/visuals/trades/ETHUSDT_20251030_1200.png
ðŸ” Entegrasyon NoktasÄ±:
core/position_state_manager kapanÄ±ÅŸta otomatik tetikler:
if trade_closed:
    TradeVisualizer.plot_trade(df, entry_idx, exit_idx, entry_price, sl, tp, result, symbol)
ðŸ§  Raporlama:
Her hafta en iyi 20 iÅŸlem PNG olarak tutulur, diÄŸerleri silinir.
HTML rapor (/visuals/report.html) otomatik oluÅŸturulur:
Trade baÅŸÄ±na PnL, tarih, coin
GÃ¶rsel Ã¶nizleme
Trend/volatilite istatistikleri
ðŸ” GÃ¶rsel Ã–rnek AkÄ±ÅŸ
Durum:
ETH/USDT, 1h timeframe
SuperTrend buy â†’ entry: 3,850
SL: 3,780 (gri bÃ¶lge)
TP: 4,040 (mavi bÃ¶lge)
Exit: 4,015
â†’ TradeVisualizer aÅŸaÄŸÄ±daki PNGâ€™yi kaydeder:
ðŸŸ© ETHUSDT | WIN +4.3%
ðŸ“ˆ Entry: 3850 | Exit: 4015 | SL: 3780 | TP: 4040
ðŸ• 2025-10-29 12:00 â†’ 2025-10-30 02:00
5ï¸âƒ£ LEARNING LAYER
Her coin ve timeframe ayrÄ± bellekle (buffer) Ã¶ÄŸrenir.
Quick retrain (3 iÅŸlem), deep retrain (20 iÅŸlem).
Bayesian optimizer RL ajanÄ±na feedback saÄŸlar.
Parametre setleri:
best_params.json ve best_timeframe.json
6ï¸âƒ£ RISK MANAGEMENT
Kural	AÃ§Ä±klama
Position size	%2 risk sabit
Max DD	%8 (soft limit)
GÃ¼nlÃ¼k max SL	10 iÅŸlem
Cooldown	Coin bazlÄ± 30dk
Reversal logic	OnaylÄ± ters sinyalde yÃ¶n deÄŸiÅŸtir
System Exit	Stop loss olarak sayÄ±lmaz
Hard Stop	ATR tabanlÄ±, volatiliteyle dinamikleÅŸir
7ï¸âƒ£ PERFORMANCE METRICS
Metrik	Hedef	Ã–lÃ§Ã¼m
Win Rate	> %55	GÃ¼nlÃ¼k dashboard
Profit Factor	> 1.3	HaftalÄ±k rapor
Sharpe Ratio	> 1.2	AylÄ±k analiz
Total Trades	> 1000 (6 ay)	System logs
Drawdown	< %8	GÃ¼nlÃ¼k takip
8ï¸âƒ£ SYSTEM PIPELINE
Data Feed
  â†“
Signal Generator
  â†“
Signal Interpreter
  â†“
Trend Confirmation Filter
  â†“
Position State Manager
  â†“
Risk Manager
  â†“
RL Agent (Feedback)
  â†“
Trade Visualizer (on close)
9ï¸âƒ£ LOGGING & STORAGE
Trade geÃ§miÅŸi: SQLite
GÃ¼nlÃ¼k iÅŸlem raporu: /logs/trade_YYYYMMDD.csv
GÃ¶rseller: /visuals/trades/
Rapor: /visuals/report.html
Parametre geÃ§miÅŸi: /params/best_params.json
ðŸš€ Sistem Ã–zeti
Ã–zellik	Durum
Coin & TF bazlÄ± optimizasyon	âœ… Aktif
Multi-module senkronizasyon	âœ… TamamlandÄ±
Reversal iÅŸlemleri	âœ… MantÄ±klÄ± & filtreli
Sideways filtreleme	âœ… EMA distance check
Dynamic ATR SL	âœ… Var
Visual TP/SL shading	âœ… Eklendi
HTML rapor	âœ… Otomatik
RL + Bayesian optimizer	âœ… Hibrit
Demo mod (real-time)	âœ… Binance Testnet
Overlap trade conflict	âŒ Yok
